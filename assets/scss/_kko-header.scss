body.kko-bookmark-active header.kko-header div.kko-pulldown-menu {
  top: #{$kko-border-stripe-width * 3};
  transition: top 0.4s ease-in;

  @media (min-width: $breakpoint-small) {
    top: 0;
  }
}

header.kko-header {
  container: kko-header / size;
  position: relative;
  height: 1px;
  margin-bottom: -1px;
  ;

  .kko-logo {
    display: none;
  }


  .kko-pulldown-menu {
    display: block;
    position: absolute;
    right: 0;
    width: 100%;
    top: calc(-100vh + #{$kko-border-stripe-width * 6});
    transition: top 0.1s ease-out;

    @media (min-width: $breakpoint-small) {
      width: 50%;
      top: -100vh;
    }
  }

  .kko-close-button,
  .kko-bookmark {
    background: none;
    border: none;
    padding: 0;
  }

  .kko-close-button {
    position: absolute;
    top: 5cqw;
    right: 7cqw;
    width: 12cqw;

    @media (min-width: $breakpoint-small) {
      width: 4cqw;
      right: 5cqw;
      top: 2cqw;
    }

    svg {
      width: 100%;
      height: auto;

      polygon#bookmark {
        fill: none !important;
      }

      path#burger {
        fill: none !important;
      }

      g#cross rect {
        fill: $kko-base-beige !important;
      }
    }
  }

  @media (min-width: $breakpoint-small) {
    &:not(.kko-header-active).kko-menu-page-inserted .kko-bookmark {
      display: none;
    }
  }

  .kko-search-toggle {
    width: 5cqw; // Smaller size
    right: 20cqw; // Move further left
    display: block;
    position: absolute;
    height: 0;
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
    margin-top: 6cqw; // Push down to align with search field icon

    @media (min-width: $breakpoint-small) {
      width: 2cqw; // Smaller size on desktop
      right: 12cqw; // Move further left on desktop
      margin-top: 3cqw; // Push down on desktop
    }

    img {
      width: 100%;
      height: auto;
    }
  }

  // Make search toggle white when bookmark menu is active
  body.kko-bookmark-active header.kko-header .kko-search-toggle img {
    filter: invert(1) brightness(100%); // Force white icon on menu page
  }
  
  // Make search toggle black by default
  .kko-search-toggle img {
    filter: none; // Black icon by default
  }

  // Make search toggle white when there's a kko-menu anywhere in the document
  html:has(.kko-menu) .kko-search-toggle img {
    filter: invert(1) brightness(100%); // White icon when menu is on page
  }

  .kko-bookmark {
    width: 10cqw;
    right: 8cqw;
    display: block;
    position: absolute;
    height: 0;

    @media (min-width: $breakpoint-small) {
      width: 4cqw;
      right: 5cqw;
    }

    svg {
      width: 100%;
      height: auto;

      polygon#bookmark {
        fill: $kko-base-blue !important;
      }

      path#burger {
        fill: $kko-base-beige !important;
      }

      g#cross rect {
        fill: none !important;
      }
    }
  }


  @media (max-width: $breakpoint-small) {
    padding-top: $kko-border-stripe-width * 3;
    height: $kko-border-stripe-width * 3;

    &::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: $kko-border-stripe-width * 3;
      z-index: 10;
      background-image: linear-gradient(to bottom,
          $kko-base-yellow 0rem, $kko-base-yellow $kko-border-stripe-width ,
          $kko-base-red $kko-border-stripe-width, $kko-base-red $kko-border-stripe-width * 2,
          $kko-base-green $kko-border-stripe-width * 2, $kko-base-green $kko-border-stripe-width * 3,
        );
    }

    .kko-logo {
      position: absolute;
      display: block;
      top: calc(4cqw + #{$kko-border-stripe-width * 3});
      left: 5cqw;
      width: 70cqw;

      svg {
        width: 100%;

        path {
          fill: $global-color;
        }
      }

    }

    &.uk-sticky-below .kko-logo {
      display: none;
    }

  }



}